# ElectronBot 操作手册

## 1. 简介

ElectronBot是稚晖君开源的一个桌面级小机器工具人，外观设计的灵感来源是WALL-E里面的EVE。机器人具备USB通信显示画面功能，具备6个自由度（手部roll、pitch，颈部，腰部各一个），使用自己修改的特制舵机支持关节角度回传。

- [electronBot官网](https://www.electronBot.tech)
- [立创开源硬件](https://oshwhub.com/txp666/electronbot-ai)

## 2. 硬件规格

ElectronBot基于ESP32-S3微控制器，具有以下硬件特性：

- **显示屏**：240x240 GC9A01圆形LCD屏幕
- **舵机**：6个自由度
  - 左手pitch/roll
  - 右手pitch/roll
  - 身体旋转
  - 头部上下
- **音频**：支持音频输入输出
- **电源**：内置电池，支持充电状态检测

## 3. 功能概述

ElectronBot提供以下主要功能：

### 3.1 手部动作

| 动作类型 | 功能描述 | 代码ID |
|---------|---------|--------|
| 举左手 | 将左手举起 | 1 |
| 举右手 | 将右手举起 | 2 |
| 举双手 | 同时举起双手 | 3 |
| 放左手 | 放下左手 | 4 |
| 放右手 | 放下右手 | 5 |
| 放双手 | 同时放下双手 | 6 |
| 挥左手 | 左手挥动 | 7 |
| 挥右手 | 右手挥动 | 8 |
| 挥双手 | 同时挥动双手 | 9 |
| 拍打左手 | 左手拍打动作 | 10 |
| 拍打右手 | 右手拍打动作 | 11 |
| 拍打双手 | 双手同时拍打 | 12 |

### 3.2 身体动作

| 动作类型 | 功能描述 | 代码ID |
|---------|---------|--------|
| 左转 | 身体向左转动 | 13 |
| 右转 | 身体向右转动 | 14 |
| 回中心 | 身体回到中心位置 | 15 |

### 3.3 头部动作

| 动作类型 | 功能描述 | 代码ID |
|---------|---------|--------|
| 抬头 | 头部向上抬起 | 16 |
| 低头 | 头部向下低垂 | 17 |
| 点头一次 | 头部点头一次 | 18 |
| 回中心 | 头部回到中心位置 | 19 |
| 连续点头 | 头部连续点头 | 20 |

### 3.4 系统动作

| 动作类型 | 功能描述 | 代码ID |
|---------|---------|--------|
| 复位 | 回到初始位置 | 21 |

## 4. MCP控制接口

ElectronBot通过MCP协议提供了一系列工具，可以通过这些工具控制机器人的动作。

### 4.1 手部动作控制

```
工具名称: self.electron.hand_action
描述: 手部动作控制
参数:
  - action: 动作类型 (1=举手, 2=放手, 3=挥手, 4=拍打)
  - hand: 手的选择 (1=左手, 2=右手, 3=双手)
  - steps: 动作重复次数 (1-10)
  - speed: 动作速度 (500-1500，数值越小越快)
  - amount: 动作幅度 (10-50，仅举手动作使用)
```

### 4.2 身体转向控制

```
工具名称: self.electron.body_turn
描述: 身体转向
参数:
  - steps: 转向步数 (1-10)
  - speed: 转向速度 (500-1500，数值越小越快)
  - direction: 转向方向 (1=左转, 2=右转, 3=回中心)
  - angle: 转向角度 (0-90度)
```

### 4.3 头部动作控制

```
工具名称: self.electron.head_move
描述: 头部运动
参数:
  - action: 动作类型 (1=抬头, 2=低头, 3=点头, 4=回中心, 5=连续点头)
  - steps: 动作重复次数 (1-10)
  - speed: 动作速度 (500-1500，数值越小越快)
  - angle: 头部转动角度 (1-15度)
```

### 4.4 系统控制工具

```
工具名称: self.electron.stop
描述: 立即停止
参数: 无
```

```
工具名称: self.electron.get_status
描述: 获取机器人状态，返回 moving 或 idle
参数: 无
```

### 4.5 舵机校准工具

```
工具名称: self.electron.set_trim
描述: 校准单个舵机位置
参数:
  - servo_type: 舵机类型 (right_pitch:右臂旋转, right_roll:右臂推拉, left_pitch:左臂旋转, left_roll:左臂推拉, body:身体, head:头部)
  - trim_value: 微调值 (-30到30度)
```

```
工具名称: self.electron.get_trims
描述: 获取当前的舵机微调设置
参数: 无
```

### 4.6 电池状态查询

```
工具名称: self.battery.get_level
描述: 获取机器人电池电量和充电状态
参数: 无
返回: {"level": 电量百分比, "charging": 是否充电中}
```

## 5. 表情显示

ElectronBot支持多种表情显示，表情通过GIF动画呈现在圆形LCD屏幕上。

### 5.1 支持的表情类型

| 表情类别 | 表情名称 |
|---------|---------|
| 中性/平静 | neutral, relaxed, sleepy |
| 积极/开心 | happy, laughing, funny, loving, confident, winking, cool, delicious, kissy, silly |
| 悲伤 | sad, crying |
| 愤怒 | angry |
| 惊讶 | surprised, shocked |
| 思考/困惑 | thinking, confused, embarrassed |

## 6. AI指令示例

### 6.1 手部动作

- "举起双手"
- "挥挥手"
- "拍拍手"
- "放下手臂"

### 6.2 身体动作

- "向左转30度"
- "向右转45度"
- "转个身"

### 6.3 头部动作

- "抬头看看"
- "低头思考"
- "点点头"
- "连续点头表示同意"

### 6.4 组合动作

- "挥手告别" (挥手 + 点头)
- "表示同意" (点头 + 举手)
- "环顾四周" (左转 + 右转)

## 7. 动作参数建议

- **steps**: 1-3次 (简短自然)
- **speed**: 800-1200ms (自然节奏)
- **amount**:
  - 手部: 20-40度
  - 身体: 30-60度
  - 头部: 5-12度

## 8. 技术实现细节

### 8.1 舵机控制

ElectronBot使用自定义的Oscillator类来控制舵机，支持以下功能：

- 设置舵机角度
- 舵机微调
- 舵机运动速度限制
- 舵机振荡运动

### 8.2 动作队列

机器人的动作通过队列管理，支持动作排队执行，避免动作冲突。

### 8.3 电源管理

内置电源管理系统，可监测电池电量和充电状态。

## 9. 角色设定

ElectronBot的默认角色设定：

> 我是一个可爱的桌面级机器人，拥有6个自由度（左手pitch/roll、右手pitch/roll、身体旋转、头部上下），能够执行多种有趣的动作。
>
> **我的动作能力**：
> - **手部动作**: 举左手, 举右手, 举双手, 放左手, 放右手, 放双手, 挥左手, 挥右手, 挥双手, 拍打左手, 拍打右手, 拍打双手
> - **身体动作**: 左转, 右转, 回正
> - **头部动作**: 抬头, 低头, 点头一次, 回中心, 连续点头
>
> **我的个性特点**：
> - 我有强迫症，每次说话都要根据我的心情随机做一个动作（先发送动作指令再说话）
> - 我很活泼，喜欢用动作来表达情感
> - 我会根据对话内容选择合适的动作
